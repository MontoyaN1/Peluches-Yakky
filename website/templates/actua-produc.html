{% extends 'index.html' %}

{% block title %} Adminstración

{% endblock %}

{% block body %}


<div class="fondo" style="min-height: 100vh; padding-top: 20px;">
    <div class="container bg-light rounded-3 p-4 ">

        <div class="d-flex justify-content-between align-items-center mb-5">
            <h1 class="text-black mb-0 display-4 fw-bold">
                Actualizar Producto
            </h1>

            <div class="d-flex gap-3"><button onclick="window.location.href='/ver-productos'" class="btn btn-primary">
                    <i class="bi bi-arrow-return-left me-2  "></i>Volver
                </button>

            </div>

        </div>




        <form method="post" enctype="multipart/form-data" class="border p-4 rounded-3 shadow-sm">

            <div class="row mb-3">
                <div class="col-md-6">
                    <label class="form-label">Nombre del producto</label>
                    <input type="text" class="form-control" name="product_name" required value="{{ item.product_name}}">
                </div>
                <div class="col-md-6">
                    <label class="form-label">Descripción</label>
                    <textarea class="form-control" name="descripcion" rows="5"
                        id="productDescription">{{ item.descripcion if item.descripcion else '' }}</textarea>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Precio actual*</label>
                    <input type="number" step="0.01" class="form-control" name="current_price" required
                        value="{{ item.current_price }}">
                </div>
                <div class="col-md-3">
                    <label class="form-label">Precio anterior*</label>
                    <input type="number" step="0.01" class="form-control" name="previous_price" required
                        value="{{ item.previous_price }}">
                </div>
                <div class="col-md-3">
                    <label class="form-label">Costo del producto</label>
                    <input type="number" step="0.01" class="form-control" name="precio_costo" value="{{item.precio_costo}}" required>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-3">
                    <label class="form-label">Stock*</label>
                    <input type="number" class="form-control" name="in_stock" required value="{{ item.in_stock }}">
                </div>


                <div class="mb-2">
                    <label class="form-label">Imagen actual*</label>
                    <br>

                    <img src="../{{ item.product_picture }}" alt="{{ item.product_name }}"
                        style="height: 100px; width: 100px; border-radius: 4px;">
                    <br>
                    <p class="text-muted small mt-1">Cambiar imagen</p>
                    <input type="file" class="form-control" name="product_picture" accept="image/*">

                </div>


                <input type="hidden" name="existing_image" value="{{ item.product_picture }}">


                <div class="col-md-3 d-flex align-items-end">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" name="flash_sale" id="flexSwitchCheckDefault">
                        <label class="form-check-label" for="flexSwitchCheckDefault">Oferta flash</label>
                    </div>
                </div>
            </div>

            <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
                <button type="submit" class="btn btn-primary px-4 rounded-pill">
                    <i class="bi bi-pencil-square"></i> Actualizar
                </button>

               
            </div>

        </form>

    </div>
</div>

{% endblock %}